[{"D:\\Programming\\sushi-app\\src\\index.js":"1","D:\\Programming\\sushi-app\\src\\reportWebVitals.js":"2","D:\\Programming\\sushi-app\\src\\pages\\App.js":"3","D:\\Programming\\sushi-app\\src\\common\\Header.jsx":"4","D:\\Programming\\sushi-app\\src\\pages\\OrderPage\\OrderPage.jsx":"5","D:\\Programming\\sushi-app\\src\\pages\\ItemsPage\\ItemsPage.jsx":"6","D:\\Programming\\sushi-app\\src\\pages\\ItemsPage\\components\\ItemCard.js":"7","D:\\Programming\\sushi-app\\src\\pages\\ItemsPage\\components\\ItemPageSorting.js":"8","D:\\Programming\\sushi-app\\src\\pages\\ItemsPage\\components\\ItemLoader.js":"9","D:\\Programming\\sushi-app\\src\\common\\HeaderButton.jsx":"10","D:\\Programming\\sushi-app\\src\\pages\\OrderPage\\components\\OrderBasket.jsx":"11","D:\\Programming\\sushi-app\\src\\pages\\OrderPage\\components\\EmptyOrderBasket.jsx":"12","D:\\Programming\\sushi-app\\src\\pages\\OrderPage\\components\\OrderCard.js":"13","D:\\Programming\\sushi-app\\src\\redux-store\\store.js":"14","D:\\Programming\\sushi-app\\src\\redux-store\\rootReducer.js":"15","D:\\Programming\\sushi-app\\src\\redux-store\\item\\itemReducer.js":"16","D:\\Programming\\sushi-app\\src\\redux-store\\order\\orderReducer.js":"17","D:\\Programming\\sushi-app\\src\\redux-store\\item\\itemActions.js":"18","D:\\Programming\\sushi-app\\src\\redux-store\\order\\orderActions.js":"19","D:\\Programming\\sushi-app\\src\\redux-store\\thunks\\fetchItems.js":"20","D:\\Programming\\sushi-app\\src\\selector\\selectSortedPizza.js":"21"},{"size":416,"mtime":1625558155830,"results":"22","hashOfConfig":"23"},{"size":362,"mtime":499162500000,"results":"24","hashOfConfig":"25"},{"size":493,"mtime":1626858521080,"results":"26","hashOfConfig":"23"},{"size":703,"mtime":1625476825965,"results":"27","hashOfConfig":"23"},{"size":520,"mtime":1625558155758,"results":"28","hashOfConfig":"23"},{"size":3013,"mtime":1627132047437,"results":"29","hashOfConfig":"23"},{"size":3218,"mtime":1625492831336,"results":"30","hashOfConfig":"23"},{"size":2631,"mtime":1625648293042,"results":"31","hashOfConfig":"23"},{"size":709,"mtime":1625072418324,"results":"32","hashOfConfig":"23"},{"size":1105,"mtime":1625558155808,"results":"33","hashOfConfig":"23"},{"size":3063,"mtime":1625558963243,"results":"34","hashOfConfig":"23"},{"size":865,"mtime":1625493241598,"results":"35","hashOfConfig":"23"},{"size":2450,"mtime":1625492831271,"results":"36","hashOfConfig":"23"},{"size":205,"mtime":1625517251073,"results":"37","hashOfConfig":"23"},{"size":242,"mtime":1625517180698,"results":"38","hashOfConfig":"23"},{"size":2217,"mtime":1625647515330,"results":"39","hashOfConfig":"23"},{"size":3388,"mtime":1625558416129,"results":"40","hashOfConfig":"23"},{"size":1044,"mtime":1625606438205,"results":"41","hashOfConfig":"23"},{"size":1017,"mtime":1625558285499,"results":"42","hashOfConfig":"23"},{"size":448,"mtime":1626858425950,"results":"43","hashOfConfig":"23"},{"size":854,"mtime":1625647624393,"results":"44","hashOfConfig":"23"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},"1r7iqdh",{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"12eqpez",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"47"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"47"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"47"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"77"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"47"},"D:\\Programming\\sushi-app\\src\\index.js",[],["95","96"],"D:\\Programming\\sushi-app\\src\\reportWebVitals.js",[],["97","98"],"D:\\Programming\\sushi-app\\src\\pages\\App.js",[],"D:\\Programming\\sushi-app\\src\\common\\Header.jsx",[],"D:\\Programming\\sushi-app\\src\\pages\\OrderPage\\OrderPage.jsx",[],"D:\\Programming\\sushi-app\\src\\pages\\ItemsPage\\ItemsPage.jsx",["99"],"import React, {useEffect} from \"react\";\r\nimport '../../styles/items_page.scss';\r\nimport {ItemCard} from \"./components/ItemCard\";\r\nimport {connect} from \"react-redux\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {ItemPageSorting} from \"./components/ItemPageSorting\";\r\n\r\nimport ItemLoader from \"./components/ItemLoader\";\r\nimport {fetchPizza} from \"../../redux-store/thunks/fetchItems\";\r\nimport {addToOrderAC, changeBasketInfoAC} from \"../../redux-store/order/orderActions\";\r\nimport {setSorting} from \"../../redux-store/item/itemActions\";\r\nimport {selectSortedPizza} from \"../../selector/selectSortedPizza\";\r\n\r\nconst ItemsPage = (props) => {\r\n    const {\r\n        pizza,\r\n        order,\r\n        sorting,\r\n        addNewOrder,\r\n        changeBasketInfo,\r\n        setSorting,\r\n        fetchPizza,\r\n        isLoading,\r\n    } = props\r\n\r\n    useEffect(() => {\r\n        fetchPizza()\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div className='pizza-list'>\r\n            <div className='pizza-list__title'>\r\n                <h1>Все пиццы:</h1>\r\n                <div className='pizza-list__sorting'>\r\n                    <ItemPageSorting setSorting={setSorting}\r\n                                     sorting={sorting}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {isLoading\r\n                ? <div className='pizza-list__container'>\r\n                    <ItemLoader/>\r\n                    <ItemLoader/>\r\n                    <ItemLoader/>\r\n                    <ItemLoader/>\r\n                    <ItemLoader/>\r\n                    <ItemLoader/>\r\n                </div>\r\n                : <div className='pizza-list__container'>\r\n                    {pizza.map(item =>\r\n\r\n                        <ItemCard title={item.title}\r\n                                  imgUrl={item.imgUrl}\r\n                                  sizes={item.sizes}\r\n                                  crust={item.crust}\r\n                                  price={item.price}\r\n                                  id={item.id}\r\n                                  key={item.id}\r\n                                  order={order}\r\n                                  fetchPizza={fetchPizza}\r\n                                  addNewOrder={addNewOrder}\r\n                                  changeBasketInfo={changeBasketInfo}\r\n                        />\r\n                    )}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n    pizza: selectSortedPizza(state,state.item.sorting),\r\n    order: state.order.basket.order,\r\n    isLoading: state.item.loading,\r\n    sorting: state.item.sorting,\r\n\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    fetchPizza: bindActionCreators(fetchPizza, dispatch),\r\n    addNewOrder: bindActionCreators(addToOrderAC, dispatch),\r\n    changeBasketInfo: bindActionCreators(changeBasketInfoAC, dispatch),\r\n    setSorting: bindActionCreators(setSorting, dispatch)\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemsPage)","D:\\Programming\\sushi-app\\src\\pages\\ItemsPage\\components\\ItemCard.js",["100"],"import React, {useEffect, useState} from \"react\";\r\nimport '../../../styles/item_card.scss'\r\n\r\nexport const ItemCard = (props) => {\r\n    const {title, imgUrl, crust, sizes, price, id, order, addNewOrder, changeBasketInfo} = props\r\n    const [orderSize, setOrderSize] = useState(props.sizes[0].size)\r\n    const [orderCrust, setOrderCrust] = useState(props.crust[0].type)\r\n    const [orderCount, setOrderCount] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const index = order.findIndex(item => item.id === id && item.size === orderSize && item.crust === orderCrust)\r\n        if (index !== -1) {\r\n            setOrderCount(order[index].count)\r\n        } else {\r\n            setOrderCount(0)\r\n        }\r\n\r\n    },)\r\n\r\n    const addOrderSize = (size) => {\r\n        setOrderSize(size)\r\n    }\r\n\r\n    const addOrderCrust = (crust) => {\r\n        setOrderCrust(crust)\r\n    }\r\n\r\n    const addOrder = () => {\r\n        addNewOrder(id, orderCrust, orderSize, price)\r\n        changeBasketInfo(1, price)\r\n    }\r\n\r\n    return (\r\n        <div className='pizza-card'>\r\n            <div className='pizza-card__icon'>\r\n                <img src={imgUrl} alt='pizza_icon'/>\r\n            </div>\r\n            <h2 className='pizza-card__title'>{title}</h2>\r\n            <div>\r\n                <div className='pizza-description'>\r\n                    <ul className='pizza-description__crust'>\r\n                        {crust.map( (item,index) => item.available\r\n                            ? <li className={item.type === orderCrust ? 'is_available' : ''}\r\n                                  onClick={() => addOrderCrust(item.type)}\r\n                                  key={index}\r\n                            > {item.type} </li>\r\n                            : <li className='is_not_available'\r\n                                  key={index}\r\n                            > {item.type} </li>\r\n                        )}\r\n                    </ul>\r\n                    <ul className='pizza-description__size'>\r\n                        {sizes.map( (item,index) => item.available\r\n                            ? <li className={item.size === orderSize ? 'is_available' : ''}\r\n                                  onClick={() => addOrderSize(item.size)}\r\n                                  key={index}\r\n                            > {item.size} </li>\r\n                            : <li className='is_not_available'\r\n                                  key={index}\r\n                            > {item.size} </li>\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n                <div className='pizza-footer'>\r\n                    <h1 className='pizza-footer__price'>{`${price} P`}</h1>\r\n                    <div className='add-pizza-button'>\r\n                        <div className='add-pizza-button__text' onClick={addOrder}>+ добавить\r\n                        </div>\r\n                        {\r\n                            orderCount !== 0 &&\r\n                            <div className='add-pizza-button__count'>\r\n                                {orderCount}\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","D:\\Programming\\sushi-app\\src\\pages\\ItemsPage\\components\\ItemPageSorting.js",["101"],"import React, {useEffect, useReducer, useRef, useState} from \"react\";\nimport {ReactComponent as SortArrow} from \"../../../assets/sort_arrow_icon.svg\";\nimport '../../../styles/item_page_sorting.scss'\n\nfunction useClickOutside(ref, handler) {\n    useEffect(() => {\n            const listener = event => {\n                if (!ref.current || ref.current.contains(event.target)) {\n                    return;\n                }\n                handler()\n            }\n            document.addEventListener('mousedown', listener);\n            document.addEventListener('touchstart', listener);\n\n            return () => {\n                document.removeEventListener('mousedown', listener);\n                document.removeEventListener('touchstart', listener);\n            };\n        }, [ref, handler]\n    )\n}\n\nexport const ItemPageSorting = ({sorting,setSorting}) => {\n\n    const [isVisible, switchIsVisible] = useState(false)\n\n    const ref = useRef()\n    useClickOutside(ref, () => switchIsVisible())\n\n    const sortTypes = ['алфавиту', 'цене']\n\n    const [state, dispatch] = useReducer( sortReducer, {kindOfSort: sortTypes[0]} )\n\n    function sortReducer(state, action) {\n        debugger\n        switch (action.type) {\n            case sortTypes[0]:\n                return {kindOfSort: 'алфавиту'}\n            case sortTypes[1]:\n                return {kindOfSort: 'цене'}\n            default:\n                return state\n        }\n    }\n\n    const toSort = (type) => {\n        debugger\n        dispatch( {type} )\n        switchIsVisible(!isVisible)\n        if (type === sortTypes[0]) {\n            setSorting('a-z')\n        }\n        if (type === sortTypes[1]) {\n            setSorting('price')\n        }\n    }\n\n    return <div className='sorting'>\n        <div className='sorting__trigger'>\n            <h4>Сортировать по:</h4>\n            <div>\n                <span onClick={() => switchIsVisible(!isVisible)}>{state.kindOfSort}</span>\n            </div>\n        </div>\n\n        {isVisible === true\n        && <ul ref={ref}>\n            {sortTypes.map((item, index) =>\n                <li className={item === state.kindOfSort ? 'active' : ''}\n                    key={index}\n                >\n                    <span onClick={() => toSort(item)}>{item}</span>\n                    {/*{item === state.kindOfSort\n                    && <SortArrow onClick={() => {\n                        sortReverse()\n                        switchIsVisible(!isVisible)\n                    }}\n                    />\n                    }*/}\n                </li>\n            )}\n\n        </ul>}\n\n    </div>\n}","D:\\Programming\\sushi-app\\src\\pages\\ItemsPage\\components\\ItemLoader.js",[],"D:\\Programming\\sushi-app\\src\\common\\HeaderButton.jsx",[],"D:\\Programming\\sushi-app\\src\\pages\\OrderPage\\components\\OrderBasket.jsx",[],"D:\\Programming\\sushi-app\\src\\pages\\OrderPage\\components\\EmptyOrderBasket.jsx",[],"D:\\Programming\\sushi-app\\src\\pages\\OrderPage\\components\\OrderCard.js",["102"],"import React, {useEffect, useState} from \"react\";\r\nimport {ReactComponent as Plus} from \"../../../assets/plus.svg\";\r\nimport {ReactComponent as Minus} from \"../../../assets/minus.svg\";\r\nimport '../../../styles/order_card.scss'\r\n\r\n\r\nexport const OrderCard = (props) => {\r\n\r\n    const {id, crust, size, count, pizza, changePizzaCount, changeBasketInfo, deletePizza} = props\r\n    const [title, setTitle] = useState('')\r\n    const [imgUrl, setImgUrl] = useState('')\r\n    const [price, setPrice] = useState('')\r\n\r\n    useEffect(() => {\r\n        const indexOfPizza = pizza.findIndex(item => item.id === id)\r\n        setTitle(pizza[indexOfPizza].title)\r\n        setImgUrl(pizza[indexOfPizza].imgUrl)\r\n        setPrice(pizza[indexOfPizza].price)\r\n    }, [])\r\n\r\n    const incrementCount = () => {\r\n        changePizzaCount(id, size, crust, Number(count) + Number(1))\r\n        changeBasketInfo(Number(1), price)\r\n    }\r\n\r\n    const decrementCount = () => {\r\n        if (count > 1) {\r\n            changePizzaCount(id, size, crust, Number(count) - Number(1))\r\n            changeBasketInfo(Number(-1), Number(price))\r\n        }\r\n    }\r\n\r\n    const deleteOrder = () => {\r\n        deletePizza(id)\r\n        changeBasketInfo(Number(-count), Number(price))\r\n    }\r\n    return (\r\n        <section className='order-card'>\r\n            <div className='pizza-info'>\r\n                <img src={imgUrl} alt='pizza_img'/>\r\n                <div className='pizza-description'>\r\n                    <h2 className='pizza-description_name'>{title}</h2>\r\n                    <p className='pizza-description__type'>{`${crust}, ${size} см`}</p>\r\n                </div>\r\n            </div>\r\n            <div className='order-info'>\r\n                <div className='pizza-count'>\r\n                    <div className='pizza-count__changer' onClick={incrementCount} >\r\n                        <Plus fill=\"#fe5f1e\"/>\r\n                    </div>\r\n                    <div>{count}</div>\r\n                    <div className='pizza-count__changer' onClick={decrementCount}>\r\n                        <Minus fill=\"#fe5f1e\"/>\r\n                    </div>\r\n                </div>\r\n                <div className='order-info__price'>\r\n                    {`${Number(price) * Number(count)} Р`}\r\n                </div >\r\n                <div className='order-info__remove-icon' onClick={deleteOrder}>\r\n                    &times;\r\n                </div>\r\n            </div>\r\n        </section>)\r\n}",["103","104"],"D:\\Programming\\sushi-app\\src\\redux-store\\store.js",[],"D:\\Programming\\sushi-app\\src\\redux-store\\rootReducer.js",[],"D:\\Programming\\sushi-app\\src\\redux-store\\item\\itemReducer.js",[],"D:\\Programming\\sushi-app\\src\\redux-store\\order\\orderReducer.js",[],"D:\\Programming\\sushi-app\\src\\redux-store\\item\\itemActions.js",[],"D:\\Programming\\sushi-app\\src\\redux-store\\order\\orderActions.js",[],"D:\\Programming\\sushi-app\\src\\redux-store\\thunks\\fetchItems.js",[],"D:\\Programming\\sushi-app\\src\\selector\\selectSortedPizza.js",["105","106"],"\r\n\r\nexport const selectSortedPizza = (state, sorting) => {\r\n    debugger\r\n    switch (sorting) {\r\n        case 'a-z':\r\n            let pizzaSortedByAlphabet = state.item.pizza.map(item => Object.assign({}, item))\r\n            pizzaSortedByAlphabet.sort(function (a, b) {\r\n                let nameA = a.title\r\n                let nameB = b.title\r\n                if (nameA > nameB) {\r\n                    return 1\r\n                }\r\n                if (nameA < nameB) {\r\n                    return -1\r\n                }\r\n            })\r\n            return pizzaSortedByAlphabet\r\n        case 'price':\r\n            let pizzaSortedByPrice = state.item.pizza.map(item => Object.assign({}, item))\r\n            pizzaSortedByPrice.sort(function (a, b) {\r\n                return a.price - b.price\r\n            })\r\n            return pizzaSortedByPrice\r\n    }\r\n}",{"ruleId":"107","replacedBy":"108"},{"ruleId":"109","replacedBy":"110"},{"ruleId":"107","replacedBy":"111"},{"ruleId":"109","replacedBy":"112"},{"ruleId":"113","severity":1,"message":"114","line":28,"column":8,"nodeType":"115","endLine":28,"endColumn":10,"suggestions":"116"},{"ruleId":"113","severity":1,"message":"117","line":10,"column":5,"nodeType":"118","endLine":10,"endColumn":14,"suggestions":"119"},{"ruleId":"120","severity":1,"message":"121","line":2,"column":27,"nodeType":"118","messageId":"122","endLine":2,"endColumn":36},{"ruleId":"113","severity":1,"message":"123","line":19,"column":8,"nodeType":"115","endLine":19,"endColumn":10,"suggestions":"124"},{"ruleId":"107","replacedBy":"125"},{"ruleId":"109","replacedBy":"126"},{"ruleId":"127","severity":1,"message":"128","line":5,"column":5,"nodeType":"129","messageId":"130","endLine":25,"endColumn":6},{"ruleId":"131","severity":1,"message":"132","line":8,"column":40,"nodeType":"133","messageId":"134","endLine":8,"endColumn":49},"no-native-reassign",["135"],"no-negated-in-lhs",["136"],["135"],["136"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchPizza'. Either include it or remove the dependency array.","ArrayExpression",["137"],"React Hook useEffect contains a call to 'setOrderCount'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [order, id, orderSize, orderCrust] as a second argument to the useEffect Hook.","Identifier",["138"],"no-unused-vars","'SortArrow' is defined but never used.","unusedVar","React Hook useEffect has missing dependencies: 'id' and 'pizza'. Either include them or remove the dependency array.",["139"],["135"],["136"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","array-callback-return","Array.prototype.sort() expects a value to be returned at the end of function.","FunctionExpression","expectedAtEnd","no-global-assign","no-unsafe-negation",{"desc":"140","fix":"141"},{"desc":"142","fix":"143"},{"desc":"144","fix":"145"},"Update the dependencies array to be: [fetchPizza]",{"range":"146","text":"147"},"Add dependencies array: [order, id, orderSize, orderCrust]",{"range":"148","text":"149"},"Update the dependencies array to be: [id, pizza]",{"range":"150","text":"151"},[890,892],"[fetchPizza]",[709,709],", [order, id, orderSize, orderCrust]",[745,747],"[id, pizza]"]